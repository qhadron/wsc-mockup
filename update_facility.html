<!DOCTYPE html>
<!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" dir="ltr">
	<!--<![endif]-->

	<head>
		<meta charset="utf-8">
		<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
		wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
		<title>99ZZ012 Facility Types - HYDEX Update
		</title>
		<meta content="width=device-width,initial-scale=1" name="viewport">
		<!-- Meta data -->
		<meta name="description" content="Web Experience Toolkit (WET) includes reusable components for building and maintaining innovative Web sites that are accessible, usable, and interoperable. These reusable components are open source software and free for use by departments and external Web communities">
		<meta name="dcterms.title" content="Information to update:">
		<meta name="dcterms.creator" content="French name of the content author / Nom en français de l'auteur du contenu">
		<meta name="dcterms.issued" title="W3CDTF" content="Date published (YYYY-MM-DD) / Date de publication (AAAA-MM-JJ)">
		<meta name="dcterms.modified" title="W3CDTF" content="Date modified (YYYY-MM-DD) / Date de modification (AAAA-MM-JJ)">
		<meta name="dcterms.subject" title="scheme" content="French subject terms / Termes de sujet en français">
		<meta name="dcterms.language" title="ISO639-2" content="eng">
		<!-- Meta data-->
		<!--[if gte IE 9 | !IE ]><!-->
		<link href="./theme-gc-intranet/assets/favicon.ico" rel="icon" type="image/x-icon">
		<link rel="stylesheet" href="css/theme.min.css">
		<!--<![endif]-->
		<!--[if lt IE 9]>
		<link href="./theme-gc-intranet/assets/favicon.ico" rel="shortcut icon" />
		<link rel="stylesheet" href="./theme-gc-intranet/css/ie8-theme.min.css" />
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="./wet-boew/js/ie8-wet-boew.min.js"></script>
		<![endif]-->
		<noscript><link rel="stylesheet" href="./wet-boew/css/noscript.min.css" /></noscript>
	</head>

	<body vocab="http://schema.org/" typeof="WebPage">
		<ul id="wb-tphp">
			<li class="wb-slc">
				<a class="wb-sl" href="#wb-cont">Skip to main content</a>
			</li>
			<li class="wb-slc visible-sm visible-md visible-lg">
				<a class="wb-sl" href="#wb-info">Skip to "About this site"</a>
			</li>
			<li class="wb-slc visible-md visible-lg">
				<a class="wb-sl" href="#wb-sec">Skip to section menu</a>
			</li>
		</ul>
		<header role="banner">
			<div id="wb-bnr">
				<div id="wb-bar">
					<div class="container">
						<div class="row">
							<object id="gcwu-sig" type="image/svg+xml" tabindex="-1" role="img" data="./theme-gc-intranet/assets/sig-blk-en.svg" aria-label="Government of Canada"></object>
							<section id="wb-lng">
								<h2>Language selection</h2>
								<ul class="list-inline">
									<li><a lang="fr" href="content-secmenu-fr.html">Français</a></li>
								</ul>
							</section>
							<section class="wb-mb-links col-xs-12 visible-sm visible-xs" id="wb-glb-mn">
								<h2>Search and menus</h2>
								<ul class="pnl-btn list-inline text-right">
									<li><a href="#mb-pnl" title="Search and menus" aria-controls="mb-pnl" class="overlay-lnk btn btn-sm btn-default" role="button"><span class="glyphicon glyphicon-search"><span class="glyphicon glyphicon-th-list"><span class="wb-inv">Search and menus</span></span></span></a></li>
								</ul>
								<div id="mb-pnl"></div>
							</section>
						</div>
					</div>
				</div>
				<div class="container">
					<div class="row">
						<div id="wb-sttl" class="col-md-12">
							<a href="http://wet-boew.github.io/v4.0-ci/index-en.html">
								<span>Water Survey of Canada HYDEX data update</span>
							</a>
							<object id="wmms" type="image/svg+xml" tabindex="-1" role="img" data="./theme-gc-intranet/assets/wmms-intra.svg" aria-label="Symbol of the Government of Canada"></object>
						</div>
					</div>
				</div>
			</div>
			<nav role="navigation" id="wb-sm" data-ajax-replace="./ajax/sitemenu-en.html" data-trgt="mb-pnl" class="wb-menu visible-md visible-lg" typeof="SiteNavigationElement">
				<div class="container nvbar">
					<h2>Topics menu</h2>
					<div class="row">
						<ul class="list-inline menu">
							<li><a href="./index-en.html">HYDEX Reports</a></li>
							<li><a href="./docs/start-en.html#implement">HYDEX  update</a></li>
							<li><a href="./docs/start-en.html">HYDEX Administration</a></li>
						</ul>
					</div>
				</div>
			</nav>
			<nav role="navigation" id="wb-bc" property="breadcrumb" data-ajax-replace="ajax/update-breadcrumb.html">
				<h2>You are here:</h2>
				<div class="container">
					<div class="row">
						<ol class="breadcrumb">
							<li>
								<a href="http://wet-boew.github.io/v4.0-ci/index-en.html">HYDEX</a>
							</li>
							<li>
								<a href="http://wet-boew.github.io/v4.0-ci/demos/index-en.html">Search results</a>
							</li>
							<li>
								Update HYDEX
							</li>
						</ol>
					</div>
				</div>
			</nav>
		</header>
		<div class="container">
			<div class="row">
				<main role="main" property="mainContentOfPage" class="col-md-9 col-md-push-3">
					<h1 id="wb-cont" property="name">HYDEX update information 02KF015</h1>
					<section>
						You have selected station 02KF015, Graham Creek.
					</section>
					<div class="wb-frmvld">
						<form method="post" action="#" class="form-horizontal">
							<script type="text/javascript">
								// script to make table add rows work
								window.addEventListener('load', function() {
									let container = document.querySelector('.facilities');

									function facilityChoices(parentName) {
										const num = 5;
										let str = "";
										for (let i = 0; i < num; ++i)
											str += `<option>${parentName.toLowerCase()} facility ${i+1}</option>`;
										return str;
									}

									// add row to the table above
									function addEntry(e) {
										if (e) {
											e.preventDefault();
											e.stopPropagation();
										}
										let elem = document.createElement('details');
										elem.open = true;

										// summary
										let summary = document.createElement('summary');
										summary.appendChild(document.createElement('h2'));
										summary.firstElementChild.textContent = "Facility Type";
										summary.innerHTML += `
										<div class="enable pull-right btn btn-danger" style="transform: translateY(-4px)" onclick="this.parentElement.parentElement.remove()">
										<span class="glyphicon glyphicon-trash"></span>
										</div>
										`;
										elem.appendChild(summary);


										// Facility Type
										let facilitytype = document.createElement('select');
										let facilitytypelabel = document.createElement('label');
										let facilitytypecontainer = document.createElement('div');
										facilitytypecontainer.classList.add('form-group');
										facilitytypelabel.classList.add('control-label', 'required', 'col-sm-4');
										facilitytype.classList.add('form-control')
										facilitytype.innerHTML =
											`
									<option>CABLE WAY</option>
									<option>INSTALLATION</option>
									<option>WELL</option>
									<option>SHELTER</option>
									`;
										facilitytypelabel.textContent = 'Facility Type';
										facilitytypecontainer.appendChild(facilitytypelabel);
										let facilitytypediv = document.createElement('div');
										facilitytypediv.classList.add('col-sm-8');
										facilitytypediv.appendChild(facilitytype);
										facilitytypecontainer.appendChild(facilitytypediv);
										let populateFacilities = function(e) {
											let facility = elem.querySelector('.facility');
											facility.innerHTML = facilityChoices(this.value);
										}.bind(facilitytype);
										facilitytype.addEventListener('input', populateFacilities);
										elem.appendChild(facilitytypecontainer);

										// Facility
										let facility = document.createElement('select');
										let facilitylabel = document.createElement('label');
										let facilitycontainer = document.createElement('div');
										let facilitydiv = document.createElement('div');
										facilitydiv.classList.add('col-sm-8');
										facilitylabel.textContent = 'Facility';
										facilitycontainer.classList.add('form-group');
										facilitylabel.classList.add('control-label', 'required', 'col-sm-4');
										facility.classList.add('form-control', 'facility')
										facility.innerHTML =
											`
									`;
										facilitycontainer.appendChild(facilitylabel);
										facilitydiv.appendChild(facility);
										facilitycontainer.appendChild(facilitydiv);
										elem.appendChild(facilitycontainer);


										// Status
										let statuscontainer = document.createElement('div');
										let statusdiv = document.createElement('div');
										statusdiv.classList.add('col-sm-8');
										let status = document.createElement('select');
										let statuslabel = document.createElement('label');
										statuscontainer.classList.add('form-group');
										statuslabel.classList.add('control-label', 'required', 'col-sm-4');
										status.classList.add('form-control');
										statuslabel.textContent = 'Status';
										status.innerHTML =
											`
									<option>ACTIVE</option>
									<option>INACTIVE</option>
									<option>MOTHBALLED</option>
									<option>DISMANTLED</option>
									`;
										statuscontainer.appendChild(statuslabel);
										statusdiv.appendChild(status);
										statuscontainer.appendChild(statusdiv);
										elem.appendChild(statuscontainer);

										let dateremark = document.createElement('div');
										dateremark.innerHTML = `
									<div class="form-group" effective-date="Facility Type ${container.childElementCount}"></div>
									<div class="form-group" remark="Facility Type ${container.childElementCount}" remark-label="Facility Type"></div>
									`;
										elem.appendChild(dateremark);

										container.appendChild(elem);

										populateFacilities();
										populateCustomElems();

										return false;
									};

									Array.from(document.querySelectorAll('button.add-entry'))
										.forEach(elem => {
											elem.onclick = addEntry;
											elem.click();
										});
									// prepopulate some existing data
									Array.from(container.firstElementChild.querySelectorAll('select'))
										.forEach(elem => elem.disabled = true);
									container.querySelector('input[type=date]').value = "1900-01-01";
									container.querySelector('input[type=time]').value = "12:00:00";
									// enable status field
									container.firstElementChild.childNodes[3].childNodes[1].firstElementChild.disabled = false;
									// disable delete button
									container.querySelector('div.btn.btn-danger').remove();

								});
							</script>
							<div class="facilities"></div>
							<button class="btn btn-primary pull-right add-entry" style="margin-bottom: 1em">Add Facility Type</button>
							<hr style="clear: right;">
							<div class="form-group" data-ajax-replace="ajax/submit-button.html">
							</div>
						</form>
					</div>

					<dl id="wb-dtmd">
						<dt>Date modified:&#32;</dt>
						<dd><time property="dateModified">2014-02-19</time></dd>
					</dl>
				</main>
				<nav role="navigation" id="wb-sec" typeof="SiteNavigationElement" class="col-md-3 col-md-pull-9 visible-md visible-lg" data-ajax-replace="ajax/update-nav-bar.html">
				</nav>
			</div>
		</div>


		<dl id="wb-dtmd">
			<dt>Date modified:&#32;</dt>
			<dd><time property="dateModified">2017-06-16</time></dd>
		</dl>
		</main>
		<footer role="contentinfo" id="wb-info" class="visible-sm visible-md visible-lg wb-navcurr">
			<div class="container">
				<nav role="navigation" class="row">
					<h2>About this site</h2>
					<section class="col-sm-3">
						<h3>Contact us</h3>
						<ul class="list-unstyled">
							<li><a href="https://watersurveyofcanada.atlassian.net/servicedesk/customer/portal/2">Questions or comments?</a></li>
						</ul>
					</section>
					<section class="col-sm-3">
						<h3>About</h3>
						<ul class="list-unstyled">
							<li><a href="">HYDEX user documentation in ecollab</a></li>
							<li><a href="">HYDEX requirements document in ecollab</a></li>
						</ul>
					</section>
					<section class="col-sm-3">
						<h3>Public Sites</h3>
						<ul class="list-unstyled">
							<li><a href="https://www.ec.gc.ca/rhc-wsc/">Water Survey of Canada</a></li>
						</ul>
					</section>

				</nav>
			</div>
		</footer>
		<!--[if gte IE 9 | !IE ]><!-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
		<script src="./wet-boew/js/wet-boew.min.js"></script>
		<script type="text/javascript" src="custom-elems.js"></script>
		<!--<![endif]-->
		<!--[if lt IE 9]>
		<script src="./wet-boew/js/ie8-wet-boew2.min.js"></script>

		<![endif]-->
	</body>

</html>
