<select id="_station-list-select"></select>
<script>
    (async function () {
        'use strict';
        let data = fetch('ajax/station-data.json').then(r => r.text()).then(text => JSON.parse(text));
        const isChrome = browser() === 'Chrome';
        waitabit(1000).then((async function () {
            const select = document.getElementById('_station-list-select');
            if (!select) return;
            const container = document.createElement('template').content;
            let html = '';

            data = await data;

            for (let entry of data) {
                if (isChrome)
                    html = html.concat(`<option value='${entry.id}' label='${entry.name}'></option>`);
                else
                    html = html.concat(`<option value='${entry.id}'></option>`);
            }
            select.parentElement.innerHTML = html;
        }));
    })();
</script>
